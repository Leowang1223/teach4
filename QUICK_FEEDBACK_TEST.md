# 🎯 即時反饋彈窗 - 快速測試指南

## 快速啟動

### 1. 啟動服務
```powershell
# 終端機 1 - 後端
cd apps/backend
npm run dev

# 終端機 2 - 前端
cd apps/web
npm run dev
```

### 2. 訪問課程
- 開啟 `http://localhost:3000`
- 選擇任一課程（例如：L1）

---

## ✅ 測試檢查清單

### 反饋彈窗顯示
- [ ] 錄音後彈窗正確顯示
- [ ] 總分和星級評價顯示正確
- [ ] 逐字分析顯示（綠色=正確，紅色=錯誤，橙色=聲調）
- [ ] 中文答案顯示拼音
- [ ] 五維評分顯示（Pronunciation, Fluency, Accuracy, Comprehension, Confidence）
- [ ] 所有建議和反饋都是英文

### 音頻播放
- [ ] "Listen to My Recording" 播放自己的錄音
- [ ] "Listen to Correct Pronunciation" 播放 TTS 正確發音
- [ ] 播放時按鈕顯示 "Playing..."

### 操作按鈕
- [ ] "Retry Recording" 重新播放題目並允許重新錄音
- [ ] "Next Question" 前進到下一題
- [ ] 最後一題點擊 "Next Question" 顯示課程報表

### UI 風格
- [ ] 彈窗居中顯示
- [ ] 藍紫漸層標題
- [ ] 圓角設計
- [ ] 陰影效果
- [ ] 繼承課程介面的簡約風格

---

## 🎨 預期效果

### 錄音後流程
```
1. 使用者錄音完成
2. ⏳ 評分中...
3. ✨ 彈窗顯示：
   ┌─────────────────────────────────┐
   │ 🎯 Your Performance (85分)      │
   │ ⭐⭐⭐⭐☆                          │
   ├─────────────────────────────────┤
   │ 📊 Character Analysis:          │
   │ 你(nǐ)✅ 好(hǎo)✅ 嗎(ma)❌      │
   ├─────────────────────────────────┤
   │ 📈 Detailed Scores:             │
   │ • Pronunciation: 88             │
   │ • Fluency: 82                   │
   │ • Accuracy: 85                  │
   ├─────────────────────────────────┤
   │ 💡 Suggestions (English)        │
   │ 🎵 Audio Playback               │
   │ [Retry] [Next Question]         │
   └─────────────────────────────────┘
4. 使用者選擇操作（重試或下一題）
```

---

## 🐛 常見問題

### Q1: 彈窗沒有顯示
**檢查**：
- 確認錄音完成
- 檢查後端是否正常運行（評分 API）
- 查看瀏覽器控制台是否有錯誤

### Q2: 音頻播放沒有聲音
**檢查**：
- 錄音時間是否足夠長（至少 1 秒）
- 瀏覽器是否允許音頻播放
- TTS 語音引擎是否可用（zh-TW）

### Q3: 逐字分析不準確
**說明**：
- 當前使用簡單的字符比對
- 拼音庫尚未完整（僅包含常用字）
- 未來版本將增強此功能

---

## 📊 成功標準

✅ **核心功能**
- 錄音後顯示即時反饋彈窗
- 音頻播放功能正常
- 重試和下一題按鈕正常工作

✅ **使用者體驗**
- 不再自動跳過，使用者可控制進度
- 可以對比自己的發音和正確發音
- 獲得詳細的改進建議

✅ **設計一致性**
- UI 風格與課程介面一致
- 所有反饋都是英文
- 中文答案顯示拼音

---

## 🚀 快速驗證

**5 分鐘快速測試**：
1. 進入課程 (1 分鐘)
2. 錄音一題 (1 分鐘)
3. 檢查彈窗顯示 (1 分鐘)
4. 測試音頻播放 (1 分鐘)
5. 測試操作按鈕 (1 分鐘)

**✅ 全部通過即為成功！**
